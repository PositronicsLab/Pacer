(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     15991,        442]
NotebookOptionsPosition[     14729,        402]
NotebookOutlinePosition[     15082,        418]
CellTagsIndexPosition[     15039,        415]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"T01", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"1", ",", "0", ",", "0", ",", "0.043"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1", ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "1", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.594087239048881*^9, 3.594087260297279*^9}, {
  3.594087292111763*^9, 3.594087303713325*^9}, {3.5940873342805443`*^9, 
  3.594087372430523*^9}, {3.594087474300652*^9, 3.59408753009895*^9}, {
  3.594087571555067*^9, 3.5940875768792267`*^9}, {3.5943970698714123`*^9, 
  3.594397089235012*^9}}],

Cell[BoxData[
 RowBox[{"T12", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"1", ",", "0", ",", "0", ",", "0.043"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"Cos", "[", "th1", "]"}], ",", 
      RowBox[{"-", 
       RowBox[{"Sin", "[", "th1", "]"}]}], ",", "0.0475"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"Sin", "[", "th1", "]"}], ",", 
      RowBox[{"Cos", "[", "th1", "]"}], ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.5940875943857813`*^9, 3.594087663672679*^9}, {
  3.5940877159590893`*^9, 3.5940877216226053`*^9}}],

Cell[BoxData[
 RowBox[{"T23", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Cos", "[", "th2", "]"}], ",", "0", ",", 
      RowBox[{"-", 
       RowBox[{"Sin", "[", "th2", "]"}]}], ",", "0.0505"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1", ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Sin", "[", "th2", "]"}], ",", "0", ",", 
      RowBox[{"Cos", "[", "th2", "]"}], ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.594087687415127*^9, 3.594087688627161*^9}, {
   3.5940877287494507`*^9, 3.594087758781406*^9}, {3.594088217417561*^9, 
   3.5940882244984713`*^9}, 3.5940899140686007`*^9, {3.59408994662298*^9, 
   3.5940899539942217`*^9}, {3.594397005072654*^9, 3.594397013404687*^9}}],

Cell[BoxData[
 RowBox[{"T34", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Cos", "[", "th3", "]"}], ",", "0", ",", 
      RowBox[{"-", 
       RowBox[{"Sin", "[", "th3", "]"}]}], ",", "0.0505"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1", ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Sin", "[", "th3", "]"}], ",", "0", ",", 
      RowBox[{"Cos", "[", "th3", "]"}], ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.594088184144126*^9, 3.5940882139212646`*^9}, {
  3.59408996458594*^9, 3.594089972362225*^9}, {3.594397018015209*^9, 
  3.594397027044306*^9}}],

Cell[BoxData[
 RowBox[{"T4e", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"1", ",", "0", ",", "0", ",", "0.08"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1", ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "1", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.5940878062288437`*^9, 3.594087845986196*^9}, {
  3.594088174608721*^9, 3.594088175770792*^9}, {3.595864648422279*^9, 
  3.595864648524775*^9}}],

Cell[BoxData[
 RowBox[{"T01", ".", "T12", ".", "T23", ".", "T34", ".", "T4e", ".", 
  RowBox[{"{", 
   RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.594088402492841*^9, 3.594088420066801*^9}, {
  3.5940884571587687`*^9, 3.59408845989289*^9}, {3.5940885270282173`*^9, 
  3.594088556059196*^9}, {3.594397062093771*^9, 3.594397066436808*^9}, {
  3.595694629852322*^9, 3.595694676585842*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"Solve", "[", 
   RowBox[{
    RowBox[{"%", " ", "==", " ", 
     RowBox[{"{", 
      RowBox[{"x", ",", "y", ",", "z", ",", "1"}], "}"}]}], ",", 
    RowBox[{"{", 
     RowBox[{"th1", ",", "th2", ",", "th3"}], "}"}]}], "]"}], " ", 
  ";"}]], "Input",
 CellChangeTimes->{{3.594088579232004*^9, 3.594088619536092*^9}, {
   3.5940895675317163`*^9, 3.594089569078267*^9}, 3.594090008426407*^9, {
   3.594090100620821*^9, 3.594090108868267*^9}, {3.594090161137848*^9, 
   3.594090183176239*^9}, {3.5940910664201183`*^9, 3.5940910742981*^9}, 
   3.594091541063897*^9, {3.594091596645652*^9, 3.5940916501936617`*^9}, {
   3.594091685291876*^9, 3.5940916878010798`*^9}, 3.594398284058488*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"lf", "  ", "=", " ", 
   RowBox[{"CForm", "[", "%", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{
  3.59439739990186*^9, {3.594397438403825*^9, 3.594397445187965*^9}, 
   3.594398284879796*^9, {3.594398336508441*^9, 3.594398337854265*^9}}],

Cell[BoxData[
 RowBox[{"T12", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"1", ",", "0", ",", "0", ",", "0.043"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"Cos", "[", "th1", "]"}], ",", 
      RowBox[{"-", 
       RowBox[{"Sin", "[", "th1", "]"}]}], ",", 
      RowBox[{"-", "0.0475"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"Sin", "[", "th1", "]"}], ",", 
      RowBox[{"Cos", "[", "th1", "]"}], ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.5943972661637707`*^9, 3.594397294181385*^9}, {
  3.5943973827569017`*^9, 3.5943973904234858`*^9}, {3.5958647994260073`*^9, 
  3.59586481182045*^9}}],

Cell[BoxData[
 RowBox[{"T01", ".", "T12", ".", "T23", ".", "T34", ".", "T4e", ".", 
  RowBox[{"{", 
   RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Solve", "[", 
   RowBox[{
    RowBox[{"%", " ", "==", " ", 
     RowBox[{"{", 
      RowBox[{"x", ",", "y", ",", "z", ",", "1"}], "}"}]}], ",", 
    RowBox[{"{", 
     RowBox[{"th1", ",", "th2", ",", "th3"}], "}"}]}], "]"}], " ", 
  ";"}]], "Input",
 CellChangeTimes->{3.5943982949350357`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"rf", " ", "=", " ", 
   RowBox[{"CForm", "[", "%", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{
  3.594398296367401*^9, {3.594398331574402*^9, 3.5943983322379303`*^9}}],

Cell[BoxData[
 RowBox[{"T23", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Cos", "[", "th2", "]"}], ",", "0", ",", 
      RowBox[{"-", 
       RowBox[{"Sin", "[", "th2", "]"}]}], ",", "0.0611"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1", ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Sin", "[", "th2", "]"}], ",", "0", ",", 
      RowBox[{"Cos", "[", "th2", "]"}], ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}], 
  " "}]], "Input",
 CellChangeTimes->{{3.5958651708803663`*^9, 3.595865173231132*^9}, {
  3.5958652224426517`*^9, 3.595865229717976*^9}}],

Cell[BoxData[
 RowBox[{"T12", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"1", ",", "0", ",", "0", ",", 
      RowBox[{"-", "0.043"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"Cos", "[", "th1", "]"}], ",", 
      RowBox[{"-", 
       RowBox[{"Sin", "[", "th1", "]"}]}], ",", "0.0475"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"Sin", "[", "th1", "]"}], ",", 
      RowBox[{"Cos", "[", "th1", "]"}], ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}]}]], "Input"],

Cell[BoxData[
 RowBox[{"T22", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Cos", "[", "\[Pi]", "]"}], ",", 
      RowBox[{"-", 
       RowBox[{"Sin", "[", "\[Pi]", "]"}]}], ",", "0", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Sin", "[", "\[Pi]", "]"}], ",", 
      RowBox[{"Cos", "[", "\[Pi]", "]"}], ",", " ", "0", ",", "0"}], "}"}], 
    ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "1", ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.5943987142828197`*^9, 3.5943988371995077`*^9}, {
  3.5958649561273537`*^9, 3.5958649680296392`*^9}, {3.595865037941605*^9, 
  3.595865055778845*^9}}],

Cell[BoxData[
 RowBox[{"T12", ".", "T22", ".", "T23", ".", "T34", ".", "T4e", ".", 
  RowBox[{"{", 
   RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.5943974707575483`*^9, 3.594397471235457*^9}, {
  3.5943988458045607`*^9, 3.594398847471592*^9}, {3.59569894410299*^9, 
  3.5956989554892673`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"Solve", "[", 
   RowBox[{
    RowBox[{"%", " ", "==", " ", 
     RowBox[{"{", 
      RowBox[{"x", ",", "y", ",", "z", ",", "1"}], "}"}]}], ",", 
    RowBox[{"{", 
     RowBox[{"th1", ",", "th2", ",", "th3"}], "}"}]}], "]"}], " ", 
  ";"}]], "Input",
 CellChangeTimes->{3.5943982977524567`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"lh", " ", "=", " ", 
   RowBox[{"CForm", "[", "%", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.594398300303664*^9, 3.594398323291609*^9}}],

Cell[BoxData[
 RowBox[{"T12", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"1", ",", "0", ",", "0", ",", 
      RowBox[{"-", "0.043"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"Cos", "[", "th1", "]"}], ",", 
      RowBox[{"-", 
       RowBox[{"Sin", "[", "th1", "]"}]}], ",", 
      RowBox[{"-", "0.0475"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"Sin", "[", "th1", "]"}], ",", 
      RowBox[{"Cos", "[", "th1", "]"}], ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}]}]], "Input"],

Cell[BoxData[
 RowBox[{"T12", ".", "T22", ".", "T23", ".", "T34", ".", "T4e", ".", 
  RowBox[{"{", 
   RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.594398301597856*^9, 3.59439830255934*^9}, 
   3.5943988516508617`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"Solve", "[", 
   RowBox[{
    RowBox[{"%", " ", "==", " ", 
     RowBox[{"{", 
      RowBox[{"x", ",", "y", ",", "z", ",", "1"}], "}"}]}], ",", 
    RowBox[{"{", 
     RowBox[{"th1", ",", "th2", ",", "th3"}], "}"}]}], "]"}], " "}]], "Input",\

 CellChangeTimes->{3.594398303870463*^9, 3.601991305396359*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"rh", " ", "=", " ", 
   RowBox[{"CForm", "[", "%", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.594398304607296*^9, 3.5943983274947968`*^9}, {
  3.595867568096511*^9, 3.5958675753442087`*^9}}],

Cell["\<\
           JOINT : U      | Q : des : err               | Qd : des : err |
        LH_HIP _AA 0 | -0.3927 - 0.3927 0 | 0 0 0 |
        RH_HIP _AA 0 | 0.3927 0.3927 0 | 0 0 0 |
        LH_HIP _FE 0 | -0.7854 - 0.7854 0 | 0 0 0 |
        RH_HIP _FE 0 | 0.7854 0.7854 0 | 0 0 0 |
        LF_HIP _AA 0 | 0.3927 0.3927 0 | 0 0 0 |
        RF_HIP _AA 0 | -0.3927 - 0.3927 0 | 0 0 0 |
        LH_LEG _FE 0 | -1.571 - 1.571 0 | 0 0 0 |
        RH_LEG _FE 0 | 1.571 1.571 0 | 0 0 0 |
        LF_HIP _FE 0 | 0.7854 0.7854 0 | 0 0 0 |
        RF_HIP _FE 0 | -0.7854 - 0.7854 0 | 0 0 0 |
        LF_LEG _FE 0 | 1.571 1.571 0 | 0 0 0 |
        RF_LEG _FE 0 | -1.571 - 1.571 0 | 0 0 0 |\
\>", "Text",
 CellChangeTimes->{{3.603198831356789*^9, 3.6031988530546103`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"x", " ", "=", " ", "0.17702"}], ";", 
  RowBox[{"y", " ", "=", " ", "0.113404496"}], ";", 
  RowBox[{"z", " ", "=", " ", 
   RowBox[{"-", "0.13791556"}]}], ";", "lf"}]], "Input",
 CellChangeTimes->{{3.5943983539601088`*^9, 3.5943983598855333`*^9}, {
   3.594400766656852*^9, 3.594400767860404*^9}, {3.594400828975752*^9, 
   3.59440085010421*^9}, {3.5957009332327423`*^9, 3.595700949681086*^9}, 
   3.595865247508717*^9, {3.595865283021553*^9, 3.595865317691818*^9}, {
   3.59586537250675*^9, 3.5958654353962173`*^9}, {3.595865510483543*^9, 
   3.595865524295671*^9}, {3.5958671345110397`*^9, 3.595867214847349*^9}, {
   3.595867355130123*^9, 3.5958673555437937`*^9}, {3.595867434087769*^9, 
   3.595867438182961*^9}, 3.603197012706603*^9, {3.603197781212553*^9, 
   3.6031978017124023`*^9}, 3.603198217212384*^9, {3.603198436951908*^9, 
   3.603198472898501*^9}, {3.603198653565783*^9, 3.603198760850678*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"x", " ", "=", " ", "0.113799109"}], ";", 
  RowBox[{"y", " ", "=", " ", 
   RowBox[{"-", "0.113404496"}]}], ";", 
  RowBox[{"z", " ", "=", " ", 
   RowBox[{"-", "0.13791556"}]}], ";", "rf"}]], "Input",
 CellChangeTimes->{{3.5958657255036163`*^9, 3.595865731328847*^9}, {
   3.595867386832664*^9, 3.5958674416719*^9}, 3.603197014481373*^9, {
   3.603197782219878*^9, 3.6031978040370607`*^9}, {3.603198452095942*^9, 
   3.603198473716915*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"x", "=", 
   RowBox[{"-", "0.0478048668"}]}], ";", 
  RowBox[{"y", "=", " ", "0.106624872"}], ";", 
  RowBox[{"z", "=", 
   RowBox[{"-", "0.13791556"}]}], ";", "lh"}]], "Input",
 CellChangeTimes->{{3.595865732708444*^9, 3.5958657329882193`*^9}, 
   3.595867366228866*^9, {3.595867470802328*^9, 3.595867513066543*^9}, 
   3.603197016984964*^9, {3.603197785903358*^9, 3.603197805485736*^9}, {
   3.6031984561826277`*^9, 3.6031984744842587`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"x", "=", 
   RowBox[{"-", "0.0478048668"}]}], ";", 
  RowBox[{"y", "=", " ", 
   RowBox[{"-", "0.106624872"}]}], ";", 
  RowBox[{"z", "=", 
   RowBox[{"-", "0.13791556"}]}], ";", "rh"}]], "Input",
 CellChangeTimes->{{3.595865734235053*^9, 3.595865734764069*^9}, {
  3.595867521006216*^9, 3.595867540382318*^9}, {3.603197018545273*^9, 
  3.603197019726686*^9}, {3.603197786784049*^9, 3.6031978066856537`*^9}, {
  3.603198456827084*^9, 3.603198475397665*^9}}]
},
WindowSize->{740, 756},
WindowMargins->{{Automatic, 0}, {Automatic, 0}},
FrontEndVersion->"8.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (October 5, \
2011)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 729, 16, 27, "Input"],
Cell[1289, 38, 709, 18, 43, "Input"],
Cell[2001, 58, 875, 20, 43, "Input"],
Cell[2879, 80, 749, 19, 43, "Input"],
Cell[3631, 101, 581, 14, 27, "Input"],
Cell[4215, 117, 428, 7, 27, "Input"],
Cell[4646, 126, 718, 15, 27, "Input"],
Cell[5367, 143, 274, 6, 27, "Input"],
Cell[5644, 151, 781, 20, 43, "Input"],
Cell[6428, 173, 166, 3, 27, "Input"],
Cell[6597, 178, 328, 10, 27, "Input"],
Cell[6928, 190, 204, 5, 27, "Input"],
Cell[7135, 197, 711, 19, 43, "Input"],
Cell[7849, 218, 610, 17, 43, "Input"],
Cell[8462, 237, 769, 20, 27, "Input"],
Cell[9234, 259, 335, 6, 27, "Input"],
Cell[9572, 267, 328, 10, 27, "Input"],
Cell[9903, 279, 177, 4, 27, "Input"],
Cell[10083, 285, 632, 18, 43, "Input"],
Cell[10718, 305, 259, 5, 27, "Input"],
Cell[10980, 312, 342, 10, 27, "Input"],
Cell[11325, 324, 230, 5, 27, "Input"],
Cell[11558, 331, 764, 15, 206, "Text"],
Cell[12325, 348, 945, 15, 27, "Input"],
Cell[13273, 365, 476, 10, 27, "Input"],
Cell[13752, 377, 478, 10, 27, "Input"],
Cell[14233, 389, 492, 11, 27, "Input"]
}
]
*)

(* End of internal cache information *)
