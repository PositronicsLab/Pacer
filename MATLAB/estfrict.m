R = [ %6x24
0 0 0 0 0 0 0 0 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 ;
0 0 0 0 0 0 0 0 0.707106781 0.707106781 0.707106781 0.707106781 0.707106781 0.707106781 0.707106781 0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 -0.707106781 ;
1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ;
-0.000770983837 0.500009406 -0.500009406 0.000770983837 0.499238422 -0.500780389 0.500780389 -0.499238422 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 -0.724796266 -0.724796266 -0.724796266 -0.724796266 -0.724796266 -0.724796266 -0.724796266 -0.724796266 ;
-0.500009406 -0.000770983837 0.000770983837 0.500009406 -0.500780389 -0.499238422 0.499238422 0.500780389 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 0.724796266 ;
0 0 0 0 0 0 0 0 0.353014873 0.354105209 -0.354105209 -0.353014873 0.707120083 -0.0010903358 0.0010903358 -0.707120083 -0.354105209 0.353014873 -0.353014873 0.354105209 -0.0010903358 -0.707120083 0.707120083 0.0010903358 ];

M = [ %6x6
1 0 0 0 0 0 ;
0 1 0 0 0 0 ;
0 0 1 0 0 0 ;
0 0 0 6 1.21788113e-31 -9.86076132e-32 ;
0 0 0 1.21788113e-31 6 -1.97215226e-31 ;
0 0 0 -9.86076132e-32 -1.00148357e-31 6 ];

f_external = [ %6
0 0 -9.81 2.40741243e-35 1.50463277e-36 -3.40720892 ]';
f_applied = [ %6
0 0 0 0 0 -3.40720892 ]';
j_observed = [ %6
-7.80625564e-18 -7.80625564e-18 2.77555756e-17 -5.46437895e-17 -3.20056481e-16 -0.000122536984 ]';
j_expected = [ %6
0 0 -0.00981 0 6.01853108e-39 -0.00340380512 ]';
j_error = [ %6
-7.80625564e-18 -7.80625564e-18 0.00981 -5.46437895e-17 -3.20056481e-16 0.00328126814 ]';

dv_expected = M\j_expected
dv = [ %6
-7.80625564e-18 -7.80625564e-18 2.77555756e-17 -9.10729825e-18 -5.33427469e-17 -2.04228307e-05 ]'
dvM = [
1.10588622e-17 2.16840434e-19 0.00981 3.61400724e-19 -4.04768811e-18 -0.000401760817 ]'
dv+dvM

v = [ %6
-1.647266e-18 -4.11797145e-18 -0.00981 -9.30932007e-19 -3.65146966e-17 -0.0204432535 ]';
v_ = [ %6
6.15898965e-18 3.6882842e-18 -0.00981 8.17636624e-18 1.68280503e-17 -0.0204228307 ]';



Q = P'*P

z = [ %12
0.004905 0 0 0.004905 -6.56181969e-05 0 0 6.56181969e-05 0 0 0 0 ]'

nxm = size(P);
m = nxm(2)
n = nxm(1)
nc = 4;

A = -P(1:nc,:)
b = z(1:nc)

% options = optimoptions('lsqlin','Display','iter');

[x,resnorm,residual,exitflag,output,lambda] =  lsqlin(P,z,A,b)

% [x,resnorm,residual,exitflag,output,lambda] = lsqlin(P(1:nc,:),zeros(nc,1),A,b)

%%

